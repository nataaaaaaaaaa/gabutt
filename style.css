/* =========================================
   MUSEUM OF US — style.css
   ========================================= */

/* ======= THEMES ======= */
[data-theme="ivory"] {
  --bg:#faf8f5; --bg2:#f2ede6; --bg3:#ece5d8; --surface:#ffffff;
  --gold:#c9a96e; --gold-l:#e8d5b0; --gold-d:#b8935a;
  --text:#2a2520; --muted:#8c7f72;
  --border:rgba(180,160,120,0.25); --shadow:rgba(100,80,50,0.12);
  --nav-bg:rgba(250,248,245,0.92); --modal-bg:rgba(20,16,12,0.92);
  --ph1:#f2ede6; --ph2:#ece5d8;
}
[data-theme="rose"] {
  --bg:#fff8f8; --bg2:#fceef0; --bg3:#f9e0e4; --surface:#ffffff;
  --gold:#d4758a; --gold-l:#f0b8c4; --gold-d:#b85570;
  --text:#2a1520; --muted:#9c707a;
  --border:rgba(200,140,155,0.25); --shadow:rgba(180,80,100,0.1);
  --nav-bg:rgba(255,248,248,0.92); --modal-bg:rgba(30,10,15,0.92);
  --ph1:#fceef0; --ph2:#f9e0e4;
}
[data-theme="midnight"] {
  --bg:#12111a; --bg2:#1c1b28; --bg3:#252438; --surface:#1e1d2e;
  --gold:#c9a96e; --gold-l:#9b7d4e; --gold-d:#e8c88a;
  --text:#ede8e0; --muted:#9090a8;
  --border:rgba(201,169,110,0.2); --shadow:rgba(0,0,0,0.4);
  --nav-bg:rgba(18,17,26,0.95); --modal-bg:rgba(5,5,10,0.95);
  --ph1:#1c1b28; --ph2:#252438;
}
[data-theme="sage"] {
  --bg:#f4f7f4; --bg2:#e8f0e8; --bg3:#d8e8d8; --surface:#ffffff;
  --gold:#6a9e6e; --gold-l:#a8d0a8; --gold-d:#4a7e4e;
  --text:#1e2e1e; --muted:#6a8c6a;
  --border:rgba(100,160,100,0.22); --shadow:rgba(50,100,50,0.1);
  --nav-bg:rgba(244,247,244,0.92); --modal-bg:rgba(10,20,10,0.92);
  --ph1:#e8f0e8; --ph2:#d8e8d8;
}
[data-theme="lavender"] {
  --bg:#f7f4ff; --bg2:#ede8fa; --bg3:#ddd5f5; --surface:#ffffff;
  --gold:#8b6fd4; --gold-l:#c4b0f0; --gold-d:#6a50b8;
  --text:#1e1530; --muted:#7060a0;
  --border:rgba(140,110,210,0.22); --shadow:rgba(80,60,180,0.1);
  --nav-bg:rgba(247,244,255,0.92); --modal-bg:rgba(10,5,25,0.92);
  --ph1:#ede8fa; --ph2:#ddd5f5;
}
[data-theme="dusk"] {
  --bg:#1e1428; --bg2:#2a1e38; --bg3:#362848; --surface:#2a1e38;
  --gold:#e8a87c; --gold-l:#c07040; --gold-d:#ffd0a0;
  --text:#f0e8dc; --muted:#a898b0;
  --border:rgba(232,168,124,0.2); --shadow:rgba(0,0,0,0.45);
  --nav-bg:rgba(30,20,40,0.95); --modal-bg:rgba(5,0,10,0.96);
  --ph1:#2a1e38; --ph2:#362848;
}

/* ======= BASE ======= */
:root { --font-serif:'Cormorant Garamond',Georgia,serif; --font-sans:'Jost',sans-serif; --tr:0.45s cubic-bezier(0.4,0,0.2,1); }
*,*::before,*::after { box-sizing:border-box; margin:0; padding:0; }
html { scroll-behavior:smooth; }
body { font-family:var(--font-sans); background:var(--bg); color:var(--text); overflow-x:hidden; min-height:100vh; transition:background .5s,color .5s; }
.hidden { display:none !important; }
.grain-overlay { position:fixed; inset:0; background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.04'/%3E%3C/svg%3E"); pointer-events:none; z-index:0; opacity:.5; }

/* ======================================================
   LOGIN SCREEN
====================================================== */
.login-screen {
  position:fixed; inset:0; z-index:9000;
  background: linear-gradient(160deg, var(--bg) 0%, var(--bg2) 50%, var(--bg) 100%);
  display:flex; align-items:center; justify-content:center;
  transition:opacity .5s ease, background .5s;
}
.login-screen.fade-out { opacity:0; pointer-events:none; }

.login-frame { position:absolute; width:50px; height:50px; border-color:var(--gold-l); border-style:solid; opacity:.6; }
.login-frame.tl { top:28px; left:28px; border-width:1px 0 0 1px; }
.login-frame.tr { top:28px; right:28px; border-width:1px 1px 0 0; }
.login-frame.bl { bottom:28px; left:28px; border-width:0 0 1px 1px; }
.login-frame.br { bottom:28px; right:28px; border-width:0 1px 1px 0; }

.login-box {
  background:var(--surface); border:1px solid var(--border);
  border-radius:8px; padding:44px 40px;
  width:100%; max-width:420px;
  box-shadow:0 20px 80px var(--shadow);
  position:relative; z-index:2;
  animation:fadeUp .8s ease forwards;
  transition:background .5s, border-color .5s;
}

.login-brand { text-align:center; margin-bottom:28px; }
.login-badge { font-family:var(--font-sans); font-size:.6rem; font-weight:300; letter-spacing:.3em; text-transform:uppercase; color:var(--gold); border:1px solid var(--gold-l); display:inline-block; padding:5px 16px; border-radius:40px; margin-bottom:14px; transition:color .5s,border-color .5s; }
.login-title { font-family:var(--font-serif); font-size:2.2rem; font-weight:300; color:var(--text); margin-bottom:6px; transition:color .5s; }
.login-sub { font-family:var(--font-sans); font-size:.78rem; font-weight:200; color:var(--muted); letter-spacing:.06em; transition:color .5s; }

.login-tabs { display:flex; gap:0; margin-bottom:28px; border:1px solid var(--border); border-radius:6px; overflow:hidden; transition:border-color .5s; }
.ltab { flex:1; padding:10px; background:transparent; border:none; cursor:pointer; font-family:var(--font-sans); font-size:.72rem; font-weight:300; letter-spacing:.12em; text-transform:uppercase; color:var(--muted); transition:all .25s; }
.ltab.active { background:var(--gold); color:#fff; }
.ltab:hover:not(.active) { background:var(--bg2); color:var(--text); }

.lform { display:flex; flex-direction:column; gap:18px; }
.lfield { display:flex; flex-direction:column; gap:6px; }
.lfield label { font-family:var(--font-sans); font-size:.62rem; font-weight:400; letter-spacing:.18em; text-transform:uppercase; color:var(--muted); transition:color .5s; }
.lfield input { padding:12px 14px; background:var(--bg2); border:1px solid var(--border); border-radius:4px; font-family:var(--font-sans); font-size:.85rem; font-weight:300; color:var(--text); outline:none; transition:border-color .25s,background .5s,color .5s; }
.lfield input:focus { border-color:var(--gold); background:var(--bg); }
.lfield input::placeholder { color:var(--muted); opacity:.6; }

.pw-wrap { position:relative; }
.pw-wrap input { width:100%; padding-right:42px; }
.pw-toggle { position:absolute; right:12px; top:50%; transform:translateY(-50%); background:none; border:none; cursor:pointer; font-size:.9rem; opacity:.5; transition:opacity .2s; padding:0; }
.pw-toggle:hover { opacity:1; }

.lerror { font-family:var(--font-sans); font-size:.72rem; color:#e05050; min-height:18px; text-align:center; letter-spacing:.04em; }

.lbtn { padding:14px; background:var(--gold); border:none; border-radius:4px; color:#fff; font-family:var(--font-sans); font-size:.75rem; font-weight:400; letter-spacing:.2em; text-transform:uppercase; cursor:pointer; transition:opacity .25s,transform .2s; margin-top:4px; }
.lbtn:hover { opacity:.88; transform:translateY(-1px); }

.login-ornament { display:flex; align-items:center; gap:10px; justify-content:center; margin-top:28px; }
.login-ornament .ornament-line { width:40px; height:1px; background:linear-gradient(to right,transparent,var(--gold-l)); }
.login-ornament .ornament-line:last-child { background:linear-gradient(to left,transparent,var(--gold-l)); }
.login-ornament .ornament-dot { width:4px; height:4px; border-radius:50%; background:var(--gold-l); }

/* ======= THEME FAB ======= */
.theme-fab { position:fixed; top:88px; right:20px; z-index:500; width:44px; height:44px; border-radius:50%; background:var(--surface); border:1px solid var(--border); box-shadow:0 4px 20px var(--shadow); display:flex; align-items:center; justify-content:center; font-size:1.2rem; cursor:pointer; transition:transform .3s,background .5s,border-color .5s; }
.theme-fab:hover { transform:scale(1.1) rotate(20deg); }
.theme-panel { position:fixed; top:140px; right:20px; z-index:499; background:var(--surface); border:1px solid var(--border); border-radius:12px; padding:18px 16px; box-shadow:0 8px 40px var(--shadow); min-width:180px; transform:scale(0.9) translateY(-10px); opacity:0; pointer-events:none; transition:transform .3s cubic-bezier(.34,1.56,.64,1),opacity .25s,background .5s,border .5s; transform-origin:top right; }
.theme-panel.open { transform:scale(1) translateY(0); opacity:1; pointer-events:all; }
.theme-panel-title { font-family:var(--font-sans); font-size:.6rem; font-weight:400; letter-spacing:.2em; text-transform:uppercase; color:var(--gold); margin-bottom:14px; padding-bottom:10px; border-bottom:1px solid var(--border); }
.theme-options { display:flex; flex-direction:column; gap:6px; }
.theme-opt { display:flex; align-items:center; gap:10px; padding:8px 10px; border-radius:8px; background:transparent; border:1px solid transparent; cursor:pointer; width:100%; font-family:var(--font-sans); font-size:.75rem; font-weight:300; color:var(--muted); transition:all .25s; text-align:left; }
.theme-opt:hover { background:var(--bg2); border-color:var(--border); color:var(--text); }
.theme-opt.active { background:var(--bg2); border-color:var(--gold); color:var(--text); }
.theme-swatch { width:22px; height:22px; border-radius:50%; flex-shrink:0; border:1px solid rgba(0,0,0,.08); display:inline-block; }

/* ======= NAV ======= */
.museum-nav { position:fixed; top:0; left:0; right:0; z-index:100; padding:0 48px; height:68px; display:flex; align-items:center; gap:40px; background:var(--nav-bg); backdrop-filter:blur(16px); border-bottom:1px solid var(--border); transform:translateY(-100%); transition:transform var(--tr),box-shadow .3s,background .5s,border-color .5s; }
.museum-nav.visible { transform:translateY(0); }
.nav-logo { font-family:var(--font-serif); font-size:1.3rem; font-weight:400; letter-spacing:.08em; color:var(--text); white-space:nowrap; transition:color .5s; }
.nav-links { display:flex; gap:32px; list-style:none; }
.nav-link { font-family:var(--font-sans); font-size:.7rem; font-weight:300; letter-spacing:.15em; text-transform:uppercase; text-decoration:none; color:var(--muted); position:relative; padding-bottom:2px; transition:color .3s; }
.nav-link::after { content:''; position:absolute; bottom:0; left:0; width:0; height:1px; background:var(--gold); transition:width .35s; }
.nav-link:hover,.nav-link.active { color:var(--text); }
.nav-link:hover::after,.nav-link.active::after { width:100%; }
.nav-user-area { display:flex; align-items:center; gap:12px; margin-left:auto; }
.nav-username { font-family:var(--font-sans); font-size:.68rem; font-weight:300; letter-spacing:.1em; color:var(--muted); transition:color .5s; }
.nav-logout { background:transparent; border:1px solid var(--border); color:var(--muted); font-family:var(--font-sans); font-size:.62rem; font-weight:300; letter-spacing:.1em; padding:6px 12px; border-radius:3px; cursor:pointer; transition:all .25s; }
.nav-logout:hover { border-color:var(--gold); color:var(--text); }

/* ======= PAGES ======= */
.page { min-height:100vh; display:none; opacity:0; transform:translateY(16px); transition:opacity .5s ease,transform .5s ease; }
.page.active { display:block; }
.page.visible { opacity:1; transform:translateY(0); }

/* ======= LANDING ======= */
#page-landing { padding:0; }
.landing-bg { min-height:100vh; background:radial-gradient(ellipse 80% 60% at 30% 40%,rgba(var(--gold-rgb,.1)) 0%,transparent 60%),linear-gradient(160deg,var(--bg) 0%,var(--bg2) 50%,var(--bg) 100%); display:flex; flex-direction:column; align-items:center; justify-content:center; position:relative; overflow:hidden; transition:background .5s; }
.landing-frame { position:absolute; width:60px; height:60px; border-color:var(--gold-l); border-style:solid; opacity:.7; transition:border-color .5s; }
.landing-frame.top-left    { top:32px; left:32px; border-width:1px 0 0 1px; }
.landing-frame.top-right   { top:32px; right:32px; border-width:1px 1px 0 0; }
.landing-frame.bottom-left { bottom:32px; left:32px; border-width:0 0 1px 1px; }
.landing-frame.bottom-right{ bottom:32px; right:32px; border-width:0 1px 1px 0; }
.landing-content { text-align:center; position:relative; z-index:2; animation:fadeUp 1.2s ease forwards; opacity:0; }
.landing-badge { font-family:var(--font-sans); font-size:.65rem; font-weight:300; letter-spacing:.3em; text-transform:uppercase; color:var(--gold); border:1px solid var(--gold-l); display:inline-block; padding:6px 18px; border-radius:40px; margin-bottom:36px; transition:color .5s,border-color .5s; }
.landing-title { font-family:var(--font-serif); font-weight:300; font-size:clamp(5rem,12vw,10rem); line-height:.9; color:var(--text); display:flex; flex-direction:column; margin-bottom:32px; transition:color .5s; }
.title-line { display:block; }
.title-line.italic { font-style:italic; color:var(--gold); transition:color .5s; }
.landing-subtitle { font-family:var(--font-sans); font-size:.9rem; font-weight:200; letter-spacing:.08em; color:var(--muted); line-height:1.8; margin-bottom:48px; transition:color .5s; }
.enter-btn { display:inline-flex; align-items:center; gap:12px; padding:15px 36px; background:transparent; border:1px solid var(--gold); color:var(--text); font-family:var(--font-sans); font-size:.72rem; font-weight:300; letter-spacing:.18em; text-transform:uppercase; cursor:pointer; border-radius:2px; transition:all .35s ease; position:relative; overflow:hidden; }
.enter-btn::before { content:''; position:absolute; inset:0; background:var(--gold); transform:scaleX(0); transform-origin:left; transition:transform .4s ease; z-index:0; }
.enter-btn:hover::before { transform:scaleX(1); }
.enter-btn:hover { color:#fff; }
.enter-btn span,.enter-btn svg { position:relative; z-index:1; }
.landing-ornament { display:flex; align-items:center; gap:12px; margin-top:56px; position:relative; z-index:2; animation:fadeUp 1.6s ease forwards; opacity:0; animation-delay:.3s; }
.ornament-line { width:60px; height:1px; background:linear-gradient(to right,transparent,var(--gold-l)); transition:background .5s; }
.ornament-line:last-child { background:linear-gradient(to left,transparent,var(--gold-l)); }
.ornament-dot { width:5px; height:5px; border-radius:50%; background:var(--gold-l); transition:background .5s; }

/* ======= PAGE HEADER ======= */
.page-header { padding:120px 48px 60px; text-align:center; border-bottom:1px solid var(--border); position:relative; transition:border-color .5s; }
.page-header::after { content:''; position:absolute; bottom:-1px; left:50%; transform:translateX(-50%); width:60px; height:2px; background:var(--gold); transition:background .5s; }
.page-label { font-family:var(--font-sans); font-size:.62rem; font-weight:400; letter-spacing:.3em; text-transform:uppercase; color:var(--gold); display:block; margin-bottom:16px; transition:color .5s; }
.page-title { font-family:var(--font-serif); font-size:clamp(2.8rem,6vw,5rem); font-weight:300; color:var(--text); margin-bottom:16px; line-height:1.1; transition:color .5s; }
.page-desc { font-family:var(--font-sans); font-size:.88rem; font-weight:200; color:var(--muted); letter-spacing:.06em; transition:color .5s; }

/* ======= TIMELINE ======= */
.timeline-container { max-width:940px; margin:0 auto; padding:80px 24px 120px; position:relative; }
.timeline-line { position:absolute; left:50%; top:0; bottom:0; width:1px; background:linear-gradient(to bottom,transparent,var(--gold-l) 8%,var(--gold-l) 92%,transparent); transform:translateX(-50%); transition:background .5s; }
.timeline-item { display:flex; margin-bottom:72px; position:relative; opacity:0; transition:opacity .7s ease,transform .7s ease; }
.timeline-item[data-side="left"]  { justify-content:flex-end; padding-right:calc(50% + 52px); transform:translateX(-28px); }
.timeline-item[data-side="right"] { justify-content:flex-start; padding-left:calc(50% + 52px); transform:translateX(28px); }
.timeline-item.revealed { opacity:1; transform:translateX(0); }
.timeline-dot { position:absolute; left:50%; top:28px; width:12px; height:12px; border-radius:50%; background:var(--bg); border:2px solid var(--gold); transform:translateX(-50%); z-index:2; box-shadow:0 0 0 4px var(--bg); transition:transform .3s,background .3s,border-color .5s,box-shadow .5s; }
.timeline-item:hover .timeline-dot { background:var(--gold); transform:translateX(-50%) scale(1.3); }
.timeline-card { background:var(--surface); border:1px solid var(--border); border-radius:4px; padding:26px; max-width:360px; width:100%; box-shadow:0 4px 24px var(--shadow); transition:transform .3s,box-shadow .3s,background .5s,border-color .5s; }
.timeline-card:hover { transform:translateY(-5px); box-shadow:0 14px 40px var(--shadow); }
.future-card { border-color:var(--gold-l) !important; background:var(--bg2) !important; }

.editable { outline:none; cursor:text; border-radius:2px; transition:background .2s; }
.editable:hover { background:rgba(128,128,128,.06); }
.editable:focus { background:rgba(128,128,128,.1); }

.timeline-date { font-family:var(--font-sans); font-size:.6rem; font-weight:400; letter-spacing:.22em; text-transform:uppercase; color:var(--gold); margin-bottom:14px; display:block; transition:color .5s; }
.timeline-img-wrap { width:100%; aspect-ratio:16/9; border-radius:2px; overflow:hidden; margin-bottom:18px; background:var(--bg2); position:relative; transition:background .5s; }
.timeline-img-wrap img { width:100%; height:100%; object-fit:cover; display:block; }
.tl-photo-zone { width:100%; height:100%; position:relative; cursor:pointer; }
.tl-file-input { position:absolute; inset:0; opacity:0; width:100%; height:100%; cursor:pointer; z-index:5; }
.tl-placeholder { width:100%; height:100%; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:6px; font-size:2.2rem; background:linear-gradient(135deg,var(--ph1),var(--ph2)); transition:filter .25s,background .5s; }
.tl-placeholder small { font-family:var(--font-sans); font-size:.62rem; letter-spacing:.1em; color:var(--gold); font-style:italic; transition:color .5s; }
.tl-placeholder.special { background:linear-gradient(135deg,var(--bg3),var(--ph2)); }
.tl-photo-zone:hover .tl-placeholder { filter:brightness(.95); }
.timeline-heading { font-family:var(--font-serif); font-size:1.35rem; font-weight:400; color:var(--text); margin-bottom:10px; display:block; transition:color .5s; }
.timeline-text { font-family:var(--font-sans); font-size:.82rem; font-weight:300; color:var(--muted); line-height:1.8; display:block; transition:color .5s; }

/* ======= GALLERY ======= */
.gallery-container { padding:60px 40px 120px; max-width:1140px; margin:0 auto; }
.gallery-grid { display:grid; grid-template-columns:repeat(3,1fr); grid-auto-rows:240px; gap:14px; }
.gallery-file-input { display:none; }
.gallery-item { display:flex; flex-direction:column; border-radius:4px; overflow:hidden; border:1px solid var(--border); background:var(--surface); transition:box-shadow .3s,transform .3s,border-color .5s,background .5s; }
.gallery-item:hover { box-shadow:0 8px 32px var(--shadow); transform:translateY(-3px); }
.gallery-item.tall  { grid-row:span 2; }
.gallery-item.wide  { grid-column:span 2; }
.gallery-visual { flex:1; position:relative; overflow:hidden; min-height:0; }

/* IMAGE AREA — emoji hidden when image loaded */
.gallery-img-area {
  width:100%; height:100%; position:relative;
  background:linear-gradient(135deg,var(--ph1),var(--ph2));
  transition:transform .5s cubic-bezier(.4,0,.2,1),background .5s;
}
.gallery-item:hover .gallery-img-area { transform:scale(1.05); }

.gallery-empty-icon {
  position:absolute; inset:0;
  display:flex; align-items:center; justify-content:center;
  font-size:3rem; pointer-events:none;
  transition:opacity .3s;
}
/* Hide emoji when image is present */
.gallery-img-area.has-photo .gallery-empty-icon { opacity:0; }

.gallery-img {
  position:absolute; inset:0; width:100%; height:100%;
  object-fit:cover; display:block;
}

.gallery-actions { position:absolute; inset:0; z-index:10; display:flex; align-items:center; justify-content:center; gap:10px; background:rgba(0,0,0,0); transition:background .3s; opacity:0; pointer-events:none; }
.gallery-item:hover .gallery-actions { opacity:1; pointer-events:all; background:rgba(0,0,0,.4); }
.gal-view-btn,.gal-upload-btn { padding:8px 14px; border-radius:3px; cursor:pointer; font-family:var(--font-sans); font-size:.65rem; font-weight:400; letter-spacing:.1em; transition:all .2s; white-space:nowrap; border:none; }
.gal-view-btn { background:rgba(255,255,255,.18); color:#fff; border:1px solid rgba(255,255,255,.4) !important; backdrop-filter:blur(4px); }
.gal-view-btn:hover { background:rgba(255,255,255,.3); }
.gal-upload-btn { background:var(--gold); color:#fff; display:inline-flex; align-items:center; border:1px solid transparent !important; }
.gal-upload-btn:hover { opacity:.85; }

.gallery-caption-bar { background:var(--surface); border-top:1px solid var(--border); padding:8px 12px; flex-shrink:0; transition:background .5s,border-color .5s; }
.gallery-caption { font-family:var(--font-sans); font-size:.68rem; font-weight:300; letter-spacing:.05em; color:var(--muted); display:block; outline:none; border-bottom:1px dashed transparent; transition:border-color .2s,color .2s; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; cursor:text; }
.gallery-caption:hover { border-bottom-color:var(--gold-l); color:var(--text); }
.gallery-caption:focus { border-bottom-color:var(--gold); color:var(--text); white-space:normal; overflow:visible; }

/* ======= MODAL ======= */
.modal-overlay { position:fixed; inset:0; background:var(--modal-bg); z-index:300; display:flex; align-items:center; justify-content:center; opacity:0; pointer-events:none; transition:opacity .4s ease; backdrop-filter:blur(10px); }
.modal-overlay.open { opacity:1; pointer-events:all; }
.modal-close { position:absolute; top:28px; right:36px; background:transparent; border:1px solid rgba(255,255,255,.2); color:rgba(255,255,255,.7); width:42px; height:42px; border-radius:50%; font-size:.9rem; cursor:pointer; transition:all .3s; display:flex; align-items:center; justify-content:center; }
.modal-close:hover { background:rgba(255,255,255,.12); color:#fff; }
.modal-content { text-align:center; max-width:600px; width:92%; transform:scale(.88) translateY(20px); transition:transform .45s cubic-bezier(.34,1.56,.64,1); }
.modal-overlay.open .modal-content { transform:scale(1) translateY(0); }
.modal-img-wrap { border:1px solid rgba(255,255,255,.1); border-radius:4px; overflow:hidden; margin-bottom:20px; aspect-ratio:4/3; background:rgba(255,255,255,.04); display:flex; align-items:center; justify-content:center; }
.modal-img-wrap img { width:100%; height:100%; object-fit:cover; display:block; }
.modal-placeholder { font-size:7rem; }
.modal-caption { font-family:var(--font-serif); font-size:1.1rem; font-style:italic; font-weight:300; color:rgba(255,255,255,.75); letter-spacing:.04em; }

/* ======= MUSIC ======= */
.music-control { position:fixed; bottom:32px; left:32px; z-index:200; display:flex; align-items:center; gap:10px; }
.music-upload-btn { display:flex; align-items:center; justify-content:center; width:44px; height:44px; border-radius:50%; background:var(--surface); border:1px solid var(--border); cursor:pointer; box-shadow:0 4px 20px var(--shadow); backdrop-filter:blur(10px); transition:all .3s,background .5s,border-color .5s; font-size:1.1rem; position:relative; z-index:2; }
.music-upload-btn:hover { border-color:var(--gold); transform:scale(1.05); }
.music-play-btn { display:flex; align-items:center; gap:8px; padding:10px 18px; background:var(--surface); border:1px solid var(--border); border-radius:40px; cursor:pointer; font-family:var(--font-sans); font-size:.62rem; font-weight:300; letter-spacing:.15em; text-transform:uppercase; color:var(--muted); transition:all .3s,background .5s,border-color .5s; backdrop-filter:blur(10px); box-shadow:0 4px 20px var(--shadow); position:relative; z-index:2; }
.music-play-btn:hover { border-color:var(--gold); color:var(--text); }
#musicIcon { font-size:1rem; color:var(--gold); display:inline-block; transition:color .5s; }
.music-play-btn.playing #musicIcon { animation:pulse 1.5s ease infinite; }
.music-ripple { position:absolute; left:0; bottom:0; width:44px; height:44px; border-radius:50%; border:1px solid var(--gold); opacity:0; pointer-events:none; }
.music-play-btn.playing~.music-ripple { animation:ripple 2s ease infinite; }

/* ======= TOAST ======= */
.toast { position:fixed; bottom:90px; left:32px; background:var(--surface); border:1px solid var(--border); padding:10px 18px; border-radius:3px; font-family:var(--font-sans); font-size:.72rem; font-weight:300; letter-spacing:.08em; color:var(--muted); box-shadow:0 4px 20px var(--shadow); opacity:0; transition:opacity .4s ease,background .5s,border-color .5s; z-index:999; pointer-events:none; max-width:260px; line-height:1.5; }
.toast.show { opacity:1; }

/* ======= KEYFRAMES ======= */
@keyframes fadeUp  { from{opacity:0;transform:translateY(24px)} to{opacity:1;transform:translateY(0)} }
@keyframes pulse   { 0%,100%{transform:scale(1)} 50%{transform:scale(1.18)} }
@keyframes ripple  { 0%{transform:scale(1);opacity:.5} 100%{transform:scale(1.65);opacity:0} }

/* ======= SCROLLBAR ======= */
::-webkit-scrollbar{width:5px} ::-webkit-scrollbar-track{background:var(--bg)} ::-webkit-scrollbar-thumb{background:var(--gold-l);border-radius:3px}

/* ======= RESPONSIVE ======= */
@media(max-width:900px){.gallery-grid{grid-template-columns:repeat(2,1fr);grid-auto-rows:200px}.gallery-item.wide{grid-column:span 1}}
@media(max-width:768px){
  .museum-nav{padding:0 16px;gap:12px}
  .nav-links{gap:14px}
  .nav-link{font-size:.6rem;letter-spacing:.08em}
  .nav-username{display:none}
  .landing-title{font-size:clamp(3.5rem,18vw,6rem)}
  .page-header{padding:100px 20px 48px}
  .timeline-line{left:18px}
  .timeline-item[data-side="left"],.timeline-item[data-side="right"]{justify-content:flex-start;padding-left:50px;padding-right:0;transform:translateX(18px)}
  .timeline-item.revealed{transform:translateX(0)}
  .timeline-dot{left:18px}
  .timeline-card{max-width:100%}
  .gallery-container{padding:40px 12px 80px}
  .gallery-grid{grid-template-columns:repeat(2,1fr);grid-auto-rows:160px;gap:10px}
  .landing-frame{display:none}
  .music-control{bottom:20px;left:16px}
  .theme-fab{top:80px;right:12px}
  .theme-panel{right:12px}
  .login-box{padding:32px 24px;margin:0 16px}
}
@media(max-width:480px){.gallery-grid{grid-auto-rows:130px}.gallery-item.tall{grid-row:span 1}.gal-view-btn,.gal-upload-btn{font-size:.58rem;padding:6px 10px}}